<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>List Your Property</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <section class="form-shell page-shell">
    <div class="form-heading">
      <p class="eyebrow">List a residence</p>
      <h1>Share your property with buyers</h1>
      <p class="lede">
        Complete the form below and your listing will appear in the marketplace
        instantly.
      </p>
    </div>
    <ng-container *ngIf="user$ | async as user">
      <div class="auth-banner">
        <div class="auth-text">
          <span class="label">Logged in as </span>
          <span class="value">{{ user.email || user.uid }}</span>
        </div>
        <ion-button fill="outline" size="small" (click)="logout()"
          >Log out</ion-button
        >
      </div>
    </ng-container>
    <div class="listing-form panel-card">
      <div class="form-grid">
        <input type="text" placeholder="Property title" #title />
        <input type="text" placeholder="Price" #price />
        <input type="text" placeholder="Bedrooms & bathrooms" #bnb />
        <input type="text" placeholder="Image URL" #image />
        <input type="text" placeholder="Eircode" #eircode />
      </div>
      <textarea
        rows="4"
        placeholder="Describe the property"
        #description
      ></textarea>
      <p class="error" *ngIf="error !== ''">{{error}}</p>
      <ion-button
        expand="block"
        (click)="submitListing(title.value, price.value, bnb.value, description.value, image.value, eircode.value)"
        >Submit listing</ion-button
      >
    </div>
  </section>
</ion-content>
